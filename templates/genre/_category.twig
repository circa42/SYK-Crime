{% extends '_layouts/base' %}

{% block content %}
<div class="xs:mx-4 sm:container md:mx-auto px-10 my-12">
    <h1 class="xs:text-xl md:text-2xl lg:text-3xl text-bold font-black text-center uppercase bg-yellow-300 px-4 py-2 inline-block mb-12">{{ category.title }}</h1> <!-- Category Title -->
  {% if category.description %}
    <p>{{ category.description }}</p> <!-- Optional Category Description -->
  {% endif %}

  <!-- Fetch all entries in this category -->
  {% cache %}

  {% paginate craft.entries.section('books').relatedTo(category).limit(10) as pageInfo, pageEntries %}

{#}    {% set entries = craft.entries()
        .section('books')   
        .relatedTo(category)
        .all() 
    %}

    #}
  {% endcache %}

  {% if pageEntries|length %}
    <div class="entry-list">
        <!-- Loop through entries -->
        {% for entry in pageEntries %}
          {% include "_includes/book" %}
        {% endfor %}
    </div>
  {% else %}
    <p>No entries found in this category.</p>
  {% endif %}
</div>

{% include "_includes/pagination" %}

{% endblock %}
